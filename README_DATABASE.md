# ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞!

## üéâ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–ü—Ä–æ–µ–∫—Ç **CyberShield** —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL** –≤–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ (MemStorage). 

### ‚úÖ –¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏:
- üë§ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** –∏ –∏—Ö –ø—Ä–æ—Ñ–∏–ª–∏
- üìù **–ü–æ—Å—Ç—ã** –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏  
- ‚ù§Ô∏è **–õ–∞–π–∫–∏** –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- üì§ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã**

## üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–í—Ä–µ–º—è**: –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 –Ω–æ—á–∏
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: 7 –¥–Ω–µ–π
- **–§–æ—Ä–º–∞—Ç**: –°–∂–∞—Ç—ã–π SQL (`.sql.gz`)
- **–ü–∞–ø–∫–∞**: `./backups/`

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—ç–∫–∞–ø–∞–º–∏:

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤—Ä—É—á–Ω—É—é
./scripts/backup-db.sh

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
./scripts/restore-db.sh ./backups/cybershield_backup_YYYYMMDD_HHMMSS.sql.gz

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –±—ç–∫–∞–ø—ã
ls -lh ./backups/
```

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql -h localhost -U pabit_user -d pabit_db -c "SELECT version();"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
psql -h localhost -U pabit_user -d pabit_db -c "SELECT COUNT(*) FROM users;"
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
pm2 restart cybershield

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
pm2 logs cybershield

# –°—Ç–∞—Ç—É—Å
pm2 status
```

## üîê –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: `pabit_db`
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `pabit_user`
–ü–∞—Ä–æ–ª—å: `secure_password_here`
–•–æ—Å—Ç: `localhost:5432`

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT COUNT(*) as total_users, 
       COUNT(CASE WHEN role = 'admin' THEN 1 END) as admins
FROM users;

-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–æ—Å—Ç–æ–≤
SELECT id, content, created_at, likes, comments 
FROM posts 
ORDER BY created_at DESC 
LIMIT 10;

-- –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
SELECT pg_size_pretty(pg_database_size('pabit_db'));
```

## üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö?

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–ø–∞–¥–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω:
```bash
sudo systemctl status postgresql
sudo systemctl start postgresql
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `DATABASE_URL`

### –ü—Ä–æ–±–ª–µ–º–∞: –ù—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø:
```bash
# –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø
ls -lt ./backups/ | head -2

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
./scripts/restore-db.sh ./backups/cybershield_backup_YYYYMMDD_HHMMSS.sql.gz
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: [DATABASE.md](./DATABASE.md)

---

**–°–æ–∑–¥–∞–Ω–æ**: 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 16+  
**ORM**: Drizzle ORM



